<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Javascript DOM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      .bigger {
        font-size: 3em;
        font-family: cursive;
      }
      .padded {
        padding: 20px;
      }
      .borderAdd {
        border:  3px dotted blue;
      }
    </style>
  </head>
  <body>
    Add Element: <select name="addElement"></select>
    <button name="adder">Add</button>
    <div id="main">
    <div>Hello World</div>
    <p>Rahul Ranjan</p>
    <span>Javascript</span>
  </div>
  Select Element<select name="eleMaker"></select>
<br> Inner Text
    <input type="text" name="firstName" value="John" />
    <br>
    Background : <input type="color" name="bg">
    <br>
    Text Color : <input type="color" name="txt">
    Toggle Classes <select name="classes"></select>
    <button class="btn">Update</button>
    <script>
      let nodeListed;
     
      const classArray = ["padded","bigger", "borderAdd"];
      document.addEventListener("DOMContentLoaded", () => {

        classArray.forEach((item) => {
         let opt = document.createElement("option");
         opt.value = item;
         opt.innerHTML = item;
         selectClasses.appendChild(opt);
        })
        elementArray.forEach((item) => {
         let opt = document.createElement("option");
         opt.value = item;
         opt.innerHTML = item;
         addElement.appendChild(opt);
        })
        nodeListed = document.querySelectorAll("#main >*")
        removerElements();
        dropDownBuiler();
      })
      const main = document.querySelector("#main");
      const elementArray = ["div","p","span"];
      const selectClasses = document.querySelector("select[name=classes]")
      const eleMaker = document.querySelector("select[name=eleMaker]")
      const addElement = document.querySelector("select[name=addElement]")
      const adder = document.querySelector("button[name=adder]")
      const selectElement = document.querySelector("div");
      const selectInput = document.querySelector("input[name=firstName]");
      const selectBackGround = document.querySelector("input[name=bg]");
      const selectText = document.querySelector("input[name=txt]");
      const buttonSelector = document.querySelector(".btn");
      adder.addEventListener("click", (event) => {
        console.log(addElement.value)
        let  temp= document.createElement(addElement.value);
        temp.textContent = addElement.value;
        main.appendChild(temp);
        dropDownBuiler();

      })
      buttonSelector.addEventListener("click",(event)=> {
        let tempElement = nodeListed[eleMaker.value];
        tempElement.textContent = selectInput.value;
        tempElement.style.backgroundColor = selectBackGround.value;
        tempElement.style.color =  selectText.value;
        tempElement.classList.toggle(selectClasses.value);
      })
      function removerElements() {
        nodeListed.forEach((item) => {
          item.addEventListener("click" , (e) => {
            console.log(this);
            main.remove(this);
            dropDownBuiler()
          })
        })
      }
      function dropDownBuiler() {
        eleMaker.innerHTML = "";
        nodeListed = document.querySelectorAll("#main >*")
        nodeListed.forEach((item, index) => {
            let opt = document.createElement("option");
            opt.value = index;
            opt.innerHTML = item.tagName;
            eleMaker.appendChild(opt)
        })
      }
    </script>
  </body>
</html>
